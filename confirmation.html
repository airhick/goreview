<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commande confirmée - GoReview</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <a href="/" class="nav-logo">
                    <img src="logo.png" alt="GoReview Logo" class="logo-img" style="height:38px;width:auto;margin-right:10px;vertical-align:middle;">
                    <span class="logo-text">GoReview</span>
                </a>
                <div class="nav-actions">
                    <a href="/" class="btn-secondary">Retour à l'accueil</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Confirmation Section -->
    <section class="section-padding" style="padding-top: calc(var(--spacing-xl) + 80px);">
        <div class="container">
            <div style="max-width: 700px; margin: 0 auto;">
                <!-- Success Banner -->
                <div class="confirmation-banner">
                    <div class="confirmation-icon">✓</div>
                    <h1>Commande confirmée !</h1>
                    <p class="confirmation-subtitle">Merci pour votre commande. Nous avons bien reçu votre demande.</p>
                </div>

                <!-- Email Confirmation Notice -->
                <div class="confirmation-notice">
                    <svg class="notice-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    <div>
                        <strong>Email de confirmation envoyé</strong>
                        <p>Un email récapitulatif a été envoyé à <span id="customer-email"></span></p>
                    </div>
                </div>

                <!-- Order Details Card -->
                <div class="checkout-card">
                    <h3>Récapitulatif de commande</h3>
                    
                    <div class="order-section">
                        <h4 class="section-title">Produit commandé</h4>
                        <div class="order-product">
                            <div class="product-image-mini">
                                <img src="photos/product/cardcropped.jpg" alt="Plaque NFC GoReview">
                            </div>
                            <div class="product-details-mini">
                                <span class="product-name-mini">Plaque NFC GoReview</span>
                                <span class="product-quantity">Quantité : 1</span>
                                <span class="product-price-mini">Gratuit</span>
                            </div>
                        </div>
                    </div>

                    <div class="order-section">
                        <h4 class="section-title">Informations de livraison</h4>
                        <div class="delivery-info">
                            <div class="info-row">
                                <span class="info-label">Destinataire</span>
                                <span class="info-value" id="delivery-name"></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Adresse</span>
                                <span class="info-value" id="delivery-address"></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Email</span>
                                <span class="info-value" id="delivery-email"></span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Téléphone</span>
                                <span class="info-value" id="delivery-phone"></span>
                            </div>
                        </div>
                    </div>

                    <div class="order-section">
                        <h4 class="section-title">Prochaines étapes</h4>
                        <div class="next-steps">
                            <div class="step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <strong>Traitement de votre commande</strong>
                                    <p>Notre équipe prépare votre plaque NFC personnalisée</p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <strong>Expédition</strong>
                                    <p>Vous recevrez un email avec le numéro de suivi</p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <strong>Réception et activation</strong>
                                    <p>Suivez notre guide pour configurer votre plaque</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="confirmation-footer">
                        <p class="footer-note">Des questions ? <a href="/contact.html">Contactez-nous</a></p>
                        <a href="/" class="btn-primary large">Retour à l'accueil</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h4>Pages</h4>
                    <a href="/">Accueil</a>
                    <a href="/cart.html">Panier</a>
                    <a href="/contact.html">Contact</a>
                </div>
                <div class="footer-column">
                    <h4>Informations</h4>
                    <a href="/politique-confidentialite.html">Politique de confidentialité</a>
                    <a href="/conditions-generales.html">Conditions générales</a>
                    <a href="/politique-cookies.html">Politique de cookies</a>
                </div>
                <div class="footer-column">
                    <h4>Support</h4>
                    <a href="mailto:goreview.fr@gmail.com">Email : goreview.fr@gmail.com</a>
                    <a href="/contact.html">Formulaire de contact</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2025 GoReview. Tous droits réservés. | <a href="mailto:goreview.fr@gmail.com" class="footer-email">goreview.fr@gmail.com</a></p>
            </div>
        </div>
    </footer>

    <script>
        // Populate order confirmation details from sessionStorage
        try {
            const confirmationDataStr = sessionStorage.getItem('orderConfirmation');
            if (!confirmationDataStr) {
                // No confirmation data, redirect to home
                window.location.href = '/';
            } else {
                const data = JSON.parse(confirmationDataStr);
                
                // Populate customer information
                document.getElementById('customer-email').textContent = data.email || '';
                document.getElementById('delivery-name').textContent = data.fullName || '';
                document.getElementById('delivery-address').textContent = data.address || '';
                document.getElementById('delivery-email').textContent = data.email || '';
                document.getElementById('delivery-phone').textContent = data.phone || '';
                
                // Optional: Clear sessionStorage after display (uncomment if needed)
                // sessionStorage.removeItem('orderConfirmation');
            }
        } catch (e) {
            console.error('Error loading confirmation data', e);
            // If error, redirect to home
            window.location.href = '/';
        }
    </script>
</body>
</html>

